(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{250:(e,r,o)=>{"use strict";o.d(r,{p:()=>t});let t={auth:{login:"/login/user",register:"/create/user",verifyOtp:"/verify-otp",forgotPassword:"/update/password",profile:"/user/dashboard"},pages:{create:"/user/create/product",list:"/get/product",delete:"/delete/product",details:"/get/product",update:"/update/product"}}},2820:(e,r,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/details/[slug]",function(){return o(6095)}])},3178:(e,r,o)=>{"use strict";o.d(r,{A:()=>i});var t=o(1040);let s=new(o(9312)).A,a=t.A.create({baseURL:"https://tureappapiforreact.onrender.com/api"});a.interceptors.request.use(function(e){let r=s.get("Token");return r&&(e.headers=e.headers||{},e.headers["x-access-token"]=r,e.headers.Authorization="Bearer ".concat(r)),console.log("Request Headers:",e.headers),e},function(e){return Promise.reject(e)});let i=a},3738:(e,r,o)=>{"use strict";o.d(r,{Vz:()=>b,ND:()=>g,RJ:()=>f,QB:()=>h,u5:()=>y});var t=o(3178),s=o(250);let a=async e=>{try{let{data:r}=await t.A.post(s.p.pages.create,e);return console.log("Create List API Response:",r),r}catch(e){console.log("Contact Form Error",e)}},i=async()=>{let e=await t.A.get(s.p.pages.list);return console.log(e,"profile res"),e.data},n=async e=>{let{id:r,payload:o}=e;try{let{data:e}=await t.A.put("".concat(s.p.pages.update,"/").concat(r),o);return console.log("Update List API Response:",e),e}catch(e){throw console.log("Contact Form Error",e),e}},l=async e=>{try{let r=await t.A.get("".concat(s.p.pages.details,"/").concat(e));return console.log(r,"profile res"),r.data}catch(e){}},c=async e=>{try{let{data:r}=await t.A.delete("".concat(s.p.pages.delete,"/").concat(e));return console.log("Delete List API Response:",r),r}catch(e){throw console.log("Delete List Error:",e),e}};var d=o(97),u=o(7914),p=o(7685);let f=()=>(0,d.n)({mutationFn:a,onSuccess:e=>{console.log("ListCreation Mutation Response:",e),e?p.Ay.success(e.message):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Create List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}}),g=()=>(0,u.I)({queryKey:["LIST"],queryFn:i}),y=()=>(0,d.n)({mutationFn:n,onSuccess:e=>{console.log("Update Mutation Response:",e),e?p.Ay.success(e.message):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Update List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}}),b=e=>(0,u.I)({queryKey:["EDIT",e],queryFn:()=>l(e)}),h=()=>(0,d.n)({mutationFn:e=>c(e),onSuccess:e=>{console.log("Delete Mutation Response:",e),e?p.Ay.success("deleted succesfull"):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Delete List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}})},6095:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>A});var t=o(7876),s=o(4232),a=o(2809),i=o(6520),n=o(7268),l=o(9892),c=o(2643),d=o(5965),u=o(8992),p=o(9099),f=o(3916),g=o(7685),y=o(3738),b=o(1408),h=o(1090);let m=b.Ik().shape({name:b.Yj().required("Name is required"),price:b.ai().typeError("Price must be a number").positive("Price must be positive").required("Price is required"),description:b.Yj().required("Description is required"),category:b.Yj().required("Category is required")}),A=()=>{var e,r,o,b;let A=(0,p.useRouter)(),{slug:x}=A.query,{mutate:P,isPending:v}=(0,y.u5)(),{data:C}=(0,y.Vz)(x),{register:E,handleSubmit:I,setValue:w,formState:{errors:k}}=(0,u.mN)({resolver:(0,h.t)(m)});return(0,s.useEffect)(()=>{x&&"string"==typeof x&&C&&(w("name",C.product.name),w("price",C.product.price),w("description",C.product.description),w("category",C.product.category))},[C,x,w]),(0,t.jsx)(a.A,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"100vh",background:"linear-gradient(to right, #141E30, #243B55)",padding:2},children:(0,t.jsx)(f.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.4,ease:"easeOut"},children:(0,t.jsxs)(i.A,{component:"form",onSubmit:I(e=>{if(!x||"string"!=typeof x)return void g.Ay.error("Invalid product ID");P({payload:e,id:x},{onSuccess:()=>{g.Ay.success("Product updated successfully!"),A.push("/cms/list")},onError:()=>{g.Ay.error("Failed to update product")}})}),sx:{width:"100%",maxWidth:500,backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:3,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",padding:5,backdropFilter:"blur(10px)",color:"#fff"},children:[(0,t.jsx)(n.A,{variant:"h4",align:"center",fontWeight:"bold",sx:{mb:4},children:"Update Product"}),(0,t.jsx)(l.A,{...E("name"),label:"Product Name",fullWidth:!0,error:!!k.name,helperText:null==(e=k.name)?void 0:e.message,margin:"normal",InputLabelProps:{style:{color:"#fff"},shrink:!0},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}}),(0,t.jsx)(l.A,{...E("price"),label:"Product Price",type:"number",fullWidth:!0,error:!!k.price,helperText:null==(r=k.price)?void 0:r.message,margin:"normal",InputLabelProps:{style:{color:"#fff"},shrink:!0},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}}),(0,t.jsx)(l.A,{...E("description"),label:"Product Description",fullWidth:!0,error:!!k.description,helperText:null==(o=k.description)?void 0:o.message,margin:"normal",InputLabelProps:{style:{color:"#fff"},shrink:!0},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}}),(0,t.jsx)(l.A,{...E("category"),label:"Product Category",fullWidth:!0,error:!!k.category,helperText:null==(b=k.category)?void 0:b.message,margin:"normal",InputLabelProps:{style:{color:"#fff"},shrink:!0},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}}),(0,t.jsx)(c.A,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:4,p:1.5,fontWeight:"bold",background:"#00bcd4","&:hover":{background:"#008ba3"}},disabled:v,children:v?(0,t.jsx)(d.A,{size:20,color:"inherit"}):"Update Product"})]})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[620,811,992,759,914,636,593,792],()=>r(2820)),_N_E=e.O()}]);