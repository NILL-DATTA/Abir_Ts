(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{250:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});let o={auth:{login:"/login/user",register:"/create/user",verifyOtp:"/verify-otp",forgotPassword:"/update/password",profile:"/user/dashboard"},pages:{create:"/user/create/product",list:"/get/product",delete:"/delete/product",details:"/get/product",update:"/update/product"}}},1816:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var o=t(7876),a=t(4232),n=t(6520),s=t(2809),i=t(1054),c=t(7268),l=t(2643),d=t(9892),u=t(6229),p=t(5965),g=t(8474),x=t(451),h=t(8423),f=t(4676),b=t(9858),A=t(1413),y=t(7263),m=t(6448),j=t(4527),C=t(5657),w=t(7444),k=t(4293),v=t(9824),S=t(8380),_=t(2528),R=t(3916),P=t(5878),E=t(2781),I=t(7326),F=t(4404),L=t(9099),T=t(3738),N=t(2491),B=t.n(N);function D(){let e=(0,L.useRouter)(),{data:r,isPending:t,refetch:N}=(0,T.ND)(),{mutate:D}=(0,T.QB)(),[M,W]=(0,a.useState)(""),[q,O]=(0,a.useState)(!1),[z,H]=(0,a.useState)(""),[U,Y]=(0,a.useState)(""),J=async e=>{(await B().fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00bcd4",cancelButtonColor:"#f44336",confirmButtonText:"Yes, delete it!"})).isConfirmed&&D(e,{onSuccess:()=>N(),onError:e=>console.error("Error:",e)})},K=e=>{let r=JSON.parse(localStorage.getItem("cart")||"[]"),t=r.find(r=>r._id===e._id);t?t.quantity+=1:r.push({...e,quantity:1}),localStorage.setItem("cart",JSON.stringify(r)),B().fire({title:e.name,text:"Successfully added to cart!",icon:"success",timer:1800,timerProgressBar:!0,showConfirmButton:!1,background:"#1e2a38",color:"#fff",position:"top-end",toast:!0,showClass:{popup:"swal2-show animate__animated animate__fadeInRight"},hideClass:{popup:"swal2-hide animate__animated animate__fadeOutRight"}})},Q=(0,a.useMemo)(()=>(null==r?void 0:r.product)?Array.from(new Set(r.product.map(e=>e.category))):[],[r]),V=(0,a.useMemo)(()=>(null==r?void 0:r.product)?r.product.filter(e=>e.name.toLowerCase().includes(M.toLowerCase())&&(!z||e.category===z)):[],[r,M,z]);return(0,o.jsxs)(n.A,{sx:{minHeight:"100vh",background:"linear-gradient(to right, #141E30, #243B55)",px:2},children:[(0,o.jsx)(s.A,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"100vh"},children:(0,o.jsx)(s.A,{children:(0,o.jsx)(R.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,o.jsxs)(i.A,{elevation:6,sx:{borderRadius:4,p:3,background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(12px)",boxShadow:"0 12px 30px rgba(0, 0, 0, 0.4)",color:"#fff"},children:[(0,o.jsxs)(n.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,o.jsx)(c.A,{variant:"h5",fontWeight:"bold",children:"Product List"}),(0,o.jsx)(l.A,{variant:"contained",startIcon:(0,o.jsx)(F.A,{}),onClick:()=>e.push("/cms/addToCart"),sx:{background:"linear-gradient(135deg, #00bcd4, #2196f3)",color:"#fff",borderRadius:"12px",fontWeight:"bold",px:3,py:1.5,textTransform:"none",boxShadow:"0 6px 20px rgba(0, 188, 212, 0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #00acc1, #1976d2)",boxShadow:"0 8px 24px rgba(0, 188, 212, 0.4)",transform:"translateY(-2px)"}},children:"View Cart"})]}),(0,o.jsxs)(n.A,{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[(0,o.jsx)(d.A,{size:"small",variant:"outlined",placeholder:"Search by name...",value:M,onChange:e=>W(e.target.value),sx:{width:280,backgroundColor:"rgba(255,255,255,0.1)",borderRadius:1,input:{color:"#fff"}},InputProps:{startAdornment:(0,o.jsx)(u.A,{position:"start",children:(0,o.jsx)(I.A,{sx:{color:"#fff"}})})}}),(0,o.jsxs)(n.A,{display:"flex",gap:2,alignItems:"center",children:[(0,o.jsx)(l.A,{onClick:()=>{Y(z),O(!0)},variant:"contained",sx:{background:"linear-gradient(135deg, #00bcd4, #2196f3)",color:"#fff",borderRadius:"12px",fontWeight:"bold",px:3,py:1.2,textTransform:"none",boxShadow:"0 6px 20px rgba(0, 188, 212, 0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #00acc1, #1976d2)",boxShadow:"0 8px 24px rgba(0, 188, 212, 0.4)",transform:"translateY(-2px)"}},children:"Filter by Category"}),z&&(0,o.jsx)(l.A,{onClick:()=>H(""),size:"small",sx:{color:"#fff",textTransform:"none",background:"linear-gradient(135deg, red , #2196f3)",borderRadius:"8px",fontWeight:"bold",px:2},children:"Clear Filter"})]})]}),t?(0,o.jsxs)(n.A,{display:"flex",flexDirection:"column",alignItems:"center",py:8,children:[(0,o.jsx)(R.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,o.jsx)(p.A,{size:60,thickness:5,sx:{color:"#00bcd4"}})}),(0,o.jsx)(c.A,{mt:3,variant:"subtitle1",color:"gray",children:"Loading products..."})]}):(0,o.jsx)(g.A,{sx:{maxHeight:480,overflowY:"auto",borderRadius:2,mt:1,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"4px"}},children:(0,o.jsxs)(x.A,{stickyHeader:!0,size:"small",children:[(0,o.jsx)(h.A,{children:(0,o.jsx)(f.A,{children:["Name","Category","Description","Price","Actions"].map(e=>(0,o.jsx)(b.A,{align:"Actions"===e?"center":"left",sx:{color:"#fff",fontWeight:"bold",backgroundColor:"#1e2a38",position:"sticky",top:0,zIndex:2},children:e},e))})}),(0,o.jsx)(A.A,{children:V.length>0?V.map(r=>(0,o.jsxs)(f.A,{hover:!0,children:[(0,o.jsx)(b.A,{sx:{color:"#fff"},children:r.name}),(0,o.jsx)(b.A,{sx:{color:"#fff"},children:r.category}),(0,o.jsx)(b.A,{sx:{color:"#fff"},children:r.description}),(0,o.jsxs)(b.A,{sx:{color:"#fff"},children:["$",r.price]}),(0,o.jsx)(b.A,{align:"center",children:(0,o.jsxs)(y.A,{direction:"row",spacing:1,justifyContent:"center",children:[(0,o.jsx)(m.A,{title:"Edit",children:(0,o.jsx)(j.A,{onClick:()=>e.push("/cms/details/".concat(r._id)),sx:{color:"#00bcd4","&:hover":{backgroundColor:"rgba(0,188,212,0.2)"}},children:(0,o.jsx)(P.A,{})})}),(0,o.jsx)(m.A,{title:"Delete",children:(0,o.jsx)(j.A,{onClick:()=>J(r._id),sx:{color:"#f44336","&:hover":{backgroundColor:"rgba(244,67,54,0.2)"}},children:(0,o.jsx)(E.A,{})})}),(0,o.jsx)(m.A,{title:"Add to Cart",children:(0,o.jsx)(j.A,{onClick:()=>K(r),sx:{color:"#4caf50","&:hover":{backgroundColor:"rgba(76,175,80,0.2)"}},children:(0,o.jsx)(F.A,{})})})]})})]},r._id)):(0,o.jsx)(f.A,{children:(0,o.jsx)(b.A,{colSpan:5,align:"center",sx:{color:"#ccc",py:4},children:"No matching products found."})})})]})})]})})})}),(0,o.jsxs)(C.A,{open:q,onClose:()=>O(!1),PaperProps:{sx:{borderRadius:4,background:"rgba(255,255,255,0.06)",backdropFilter:"blur(20px)",boxShadow:"0 10px 40px rgba(0,0,0,0.6)",color:"#fff",minWidth:320,px:2}},children:[(0,o.jsx)(w.A,{sx:{fontWeight:"bold",textAlign:"center"},children:"Select Category"}),(0,o.jsx)(k.A,{children:(0,o.jsxs)(v.A,{fullWidth:!0,value:U,onChange:e=>Y(e.target.value),displayEmpty:!0,sx:{mt:2,color:"#fff",".MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.2)"},"& .MuiSvgIcon-root":{color:"#fff"},backgroundColor:"rgba(255,255,255,0.08)",borderRadius:2},children:[(0,o.jsx)(S.A,{value:"",children:"All Categories"}),Q.map(e=>(0,o.jsx)(S.A,{value:e,children:e},e))]})}),(0,o.jsxs)(_.A,{sx:{justifyContent:"center",pb:2},children:[(0,o.jsx)(l.A,{variant:"contained",onClick:()=>{H(U),O(!1)},sx:{background:"linear-gradient(135deg, #00bcd4, #2196f3)",color:"#fff",textTransform:"none",borderRadius:3,fontWeight:"bold",px:4,"&:hover":{background:"linear-gradient(135deg, #00acc1, #1976d2)"}},children:"Apply Filter"}),(0,o.jsx)(l.A,{onClick:()=>O(!1),sx:{textTransform:"none",color:"#ccc","&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}},children:"Cancel"})]})]})]})}},3178:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var o=t(1040);let a=new(t(9312)).A,n=o.A.create({baseURL:"https://tureappapiforreact.onrender.com/api"});n.interceptors.request.use(function(e){let r=a.get("Token");return r&&(e.headers=e.headers||{},e.headers["x-access-token"]=r,e.headers.Authorization="Bearer ".concat(r)),console.log("Request Headers:",e.headers),e},function(e){return Promise.reject(e)});let s=n},3738:(e,r,t)=>{"use strict";t.d(r,{Vz:()=>f,ND:()=>x,RJ:()=>g,QB:()=>b,u5:()=>h});var o=t(3178),a=t(250);let n=async e=>{try{let{data:r}=await o.A.post(a.p.pages.create,e);return console.log("Create List API Response:",r),r}catch(e){console.log("Contact Form Error",e)}},s=async()=>{let e=await o.A.get(a.p.pages.list);return console.log(e,"profile res"),e.data},i=async e=>{let{id:r,payload:t}=e;try{let{data:e}=await o.A.put("".concat(a.p.pages.update,"/").concat(r),t);return console.log("Update List API Response:",e),e}catch(e){throw console.log("Contact Form Error",e),e}},c=async e=>{try{let r=await o.A.get("".concat(a.p.pages.details,"/").concat(e));return console.log(r,"profile res"),r.data}catch(e){}},l=async e=>{try{let{data:r}=await o.A.delete("".concat(a.p.pages.delete,"/").concat(e));return console.log("Delete List API Response:",r),r}catch(e){throw console.log("Delete List Error:",e),e}};var d=t(97),u=t(7914),p=t(7685);let g=()=>(0,d.n)({mutationFn:n,onSuccess:e=>{console.log("ListCreation Mutation Response:",e),e?p.Ay.success(e.message):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Create List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}}),x=()=>(0,u.I)({queryKey:["LIST"],queryFn:s}),h=()=>(0,d.n)({mutationFn:i,onSuccess:e=>{console.log("Update Mutation Response:",e),e?p.Ay.success(e.message):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Update List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}}),f=e=>(0,u.I)({queryKey:["EDIT",e],queryFn:()=>c(e)}),b=()=>(0,d.n)({mutationFn:e=>l(e),onSuccess:e=>{console.log("Delete Mutation Response:",e),e?p.Ay.success("deleted succesfull"):p.Ay.error("Failed! Please try again.")},onError:e=>{console.error("Delete List Mutation Error:",e),p.Ay.error("Failed. Please try again.")}})},9075:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/list",function(){return t(1816)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[390,620,811,914,560,219,636,593,792],()=>r(9075)),_N_E=e.O()}]);