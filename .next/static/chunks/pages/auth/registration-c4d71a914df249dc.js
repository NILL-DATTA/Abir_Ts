(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{250:(e,r,o)=>{"use strict";o.d(r,{p:()=>t});let t={auth:{login:"/login/user",register:"/create/user",verifyOtp:"/verify-otp",forgotPassword:"/update/password",profile:"/user/dashboard"},pages:{create:"/user/create/product",list:"/get/product",delete:"/delete/product",details:"/get/product",update:"/update/product"}}},2338:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>b});var t=o(7876),s=o(5743),a=o(4232),n=o(8230),i=o.n(n),l=o(2809),u=o(6520),c=o(7268),d=o(9892),p=o(2643),g=o(5965),f=o(8992),h=o(9099),m=o(3916),y=o(7685);let b=()=>{var e,r,o;let{register:n,handleSubmit:b,formState:{errors:A}}=(0,f.mN)(),{mutate:x,isPending:w}=(0,s.ge)(),[v]=(0,a.useState)(!1),P=(0,h.useRouter)(),E=async e=>{let{name:r,email:o,password:t}=e;x({name:r,email:o,password:t},{onSuccess:e=>{e&&P.push("/auth/otp")},onError:()=>{y.Ay.error("Registration failed. Please check your credentials.")}})};return(0,t.jsx)(l.A,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"100vh",background:"linear-gradient(to right, #141E30, #243B55)",px:2},children:(0,t.jsx)(m.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.4,ease:"easeOut"},style:{width:"100%",maxWidth:400},children:(0,t.jsxs)(u.A,{component:"form",onSubmit:b(E),sx:{backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:3,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",p:6,backdropFilter:"blur(10px)",color:"#fff",width:"100%"},children:[(0,t.jsx)(c.A,{variant:"h4",align:"center",fontWeight:"bold",sx:{mb:4},children:"Sign Up"}),(0,t.jsx)(d.A,{...n("name",{required:"Name is required"}),label:"Full Name",fullWidth:!0,error:!!A.name,helperText:null==(e=A.name)?void 0:e.message,margin:"normal",InputLabelProps:{style:{color:"#fff"}},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}}),(0,t.jsx)(u.A,{sx:{position:"relative",width:"100%"},children:(0,t.jsx)(d.A,{...n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email format"}}),label:"Email",type:"email",fullWidth:!0,error:!!A.email,helperText:null==(r=A.email)?void 0:r.message,margin:"normal",InputLabelProps:{style:{color:"#fff"}},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}})}),(0,t.jsx)(u.A,{sx:{position:"relative",width:"100%"},children:(0,t.jsx)(d.A,{...n("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),label:"Password",type:v?"text":"password",autoComplete:"new-password",fullWidth:!0,error:!!A.password,helperText:null==(o=A.password)?void 0:o.message,margin:"normal",InputLabelProps:{style:{color:"#fff"}},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#00bcd4"},"&.Mui-focused fieldset":{borderColor:"#00bcd4"}},input:{color:"#fff"}}})}),(0,t.jsx)(p.A,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:4,p:1.5,fontWeight:"bold",background:"#00bcd4","&:hover":{background:"#008ba3"}},disabled:w,children:w?(0,t.jsx)(g.A,{size:20,color:"inherit"}):"Sign Up"}),(0,t.jsxs)(c.A,{align:"center",sx:{marginTop:3},children:["Already have an account?"," ",(0,t.jsx)(i(),{href:"/auth/login",passHref:!0,style:{color:"#00bcd4",textDecoration:"none"},children:"Sign In"})]})]})})})}},3178:(e,r,o)=>{"use strict";o.d(r,{A:()=>n});var t=o(1040);let s=new(o(9312)).A,a=t.A.create({baseURL:"https://tureappapiforreact.onrender.com/api"});a.interceptors.request.use(function(e){let r=s.get("Token");return r&&(e.headers=e.headers||{},e.headers["x-access-token"]=r,e.headers.Authorization="Bearer ".concat(r)),console.log("Request Headers:",e.headers),e},function(e){return Promise.reject(e)});let n=a},3913:(e,r,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/registration",function(){return o(2338)}])},5743:(e,r,o)=>{"use strict";o.d(r,{_L:()=>b,gC:()=>y,ge:()=>m,zo:()=>A});var t=o(250),s=o(3178);let a=async e=>{try{let{data:r}=await s.A.post(t.p.auth.login,e);return console.log("login API Response:",r),r}catch(e){console.log("Contact Form Error",e)}},n=async e=>{try{let{data:r}=await s.A.post(t.p.auth.register,e);return console.log("Register API Response:",r),r}catch(e){console.log("Contact Form Error",e)}},i=async e=>{try{let{data:r}=await s.A.post(t.p.auth.verifyOtp,e);return console.log("otp API Response:",r),r}catch(e){console.log("Contact Form Error",e)}},l=async e=>{try{let{data:r}=await s.A.post(t.p.auth.forgotPassword,e);return console.log("UpdatePassword API Response:",r),r}catch(e){console.log("Contact Form Error",e)}};var u=o(97),c=o(9312),d=o(7685),p=o(7768);let g=()=>({queryClient:(0,p.jE)()});var f=o(9321);let h=new c.A,m=()=>(0,u.n)({mutationFn:n,onSuccess:e=>{console.log("Register Mutation Response:",e),e?(h.set("email",e.user.email,{path:"/",secure:!0}),console.log("user:",e.user),d.Ay.success(e.message)):d.Ay.error("Registration failed! Please try again.")},onError:e=>{console.error("Register Mutation Error:",e),d.Ay.error("Registration failed. Please try again.")}}),y=()=>{let{queryClient:e}=g();return(0,u.n)({mutationFn:i,onSuccess:r=>{console.log("Otp Mutation Response:",r),r?d.Ay.success(r.message):d.Ay.error("Otp Verification failed! Please try again."),e.invalidateQueries({queryKey:["OTP"]})},onError:e=>{console.error("Otp Mutation Error:",e),d.Ay.error("Otp Verification failed. Please try again.")}})},b=()=>{let{queryClient:e}=g(),{setTokenAndUser:r}=(0,f.A)();return(0,u.n)({mutationFn:a,onSuccess:o=>{if(console.log("Login Mutation Response:",o),o&&o.token){var t;r(o.token),h.set("Token",o.token,{path:"/",secure:!0}),(null==(t=o.user)?void 0:t.id)&&(h.set("name",o.user.name,{path:"/",secure:!0}),h.set("user_id",o.user.id,{path:"/",secure:!0})),d.Ay.success(o.message)}else d.Ay.error("Login failed! Please try again.");e.invalidateQueries({queryKey:["LOGIN"]})},onError:e=>{console.error("Login Mutation Error:",e),d.Ay.error("Login failed. Please try again.")}})},A=()=>(0,u.n)({mutationFn:l,onSuccess:e=>{console.log("UpdatePassword Mutation Response:",e),e?d.Ay.success(e.message):d.Ay.error("Failed! Please try again.")},onError:e=>{console.error("UpdatePassword Mutation Error:",e),d.Ay.error("Failed. Please try again.")}})}},e=>{var r=r=>e(e.s=r);e.O(0,[620,811,992,230,636,593,792],()=>r(3913)),_N_E=e.O()}]);